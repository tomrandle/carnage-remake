<!DOCTYPE html>
<html>
<head>
	<title>Title of the document</title>

	<script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.min.js"></script>
	<script src="keyStatus.js"></script>
	<script src="jquery.hotkeys.js"></script>

	<script>

		$(document).ready(function() {




			var FPS = 60;

			var canvasWidth = $(window).width();
			var canvasHeight = $(window).height();

			var canvasElement = $("<canvas width='" + canvasWidth + "' height='" + canvasHeight + "'></canvas>");
			var canvas = canvasElement.get(0).getContext("2d");

			canvasElement.appendTo('body');

			
			function update() {
				
				if (player.x > canvasWidth) {
					player.x = 0;
				}

				if (player.x < 0) {
					player.x = canvasWidth;
				}

				if (keydown.left) {
    				if (player.bearing > 359)
    				{
    					player.bearing = 0;
    				}

    				else {
    					player.bearing += 1;
    					console.log (player.bearing);
    				}
  				}


  					if (keydown.right) {
    				player.x += 2;
  				}

			}

	
			function draw() {
  				canvas.clearRect(0, 0, canvasWidth, canvasHeight);
  				player.draw();
			}
			
			
			setInterval(function() {
				update();
				draw();
			}, 1000/FPS);

			var player = {
				color: "#00A",
				x: 220,
			  	y: 270,
			  	bearing: 180,
			  	width: 60,
			  	height: 30,
			  	draw: function() {
			  		canvas.save();
			  		canvas.translate(this.x, this.y);
			  		canvas.translate(this.width, this.height);
			  		canvas.rotate(this.bearing * Math.PI / 180);
			    	canvas.fillStyle = this.color;
			    	canvas.fillRect((- this.width / 2), (- this.height / 2), this.width, this.height);
			    	canvas.restore();
  				}
			};

		});



	</script>

	<style type="text/css">
		body {margin: 0;}

		canvas {background: lightblue;}
	</style>

</head>

<body>
</body>

</html>